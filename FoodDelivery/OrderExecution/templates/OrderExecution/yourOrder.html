{% extends "Home/base.html" %}
{% block content %}

{% load ratings %}
{% for order in orders %}

    
    <div class="container w-50">
        <div class="card mt-5 mx-auto text-center">
            <div class="card-body" style="font-size: 20px;">
                <p style="font-size: 60px;" class="p-3">Your order info</p>
                <p class="p-1">Price: <span style="color: grey;">{{order.price}}</span></p> 
                <p class="p-1">Status: <span style="color: grey;">{{order.status}}</span></p> 
                <p class="p-1">Restaurant name: <span style="color: grey;">{{order.restaurant.restaurant_name}}</span></p> 
                <p class="p-1">Deliverer name: <span style="color: grey;">{{order.deliverer.first_name}}</span></p>
                {% if order.status == "Completed" %} <!-- jezeli nie jest completed to w ogole oceny sie nie da dac-->
                    {% if order.restaurant_rating == 0 %}
                    {% ratings object %}
                    <form action = "{% url 'rateRestaurant' %}" method ="POST">
                        {% csrf_token %}

                          <input id="input-id" name="input-name" type="number" class="rating" min=1 max=10 step=2 data-size="lg" data-rtl="true">
                            <input type="radio" name="rate" value="5" />
                            <label>5 stars</label>
                            <input type="radio" name="rate" value="4" /> 
                            <label>4 stars</label>
                            <input type="radio" name="rate" value="3" />
                            <label>3 stars</label>
                            <input type="radio" name="rate" value="2" />
                            <label>2 stars</label>
                            <input type="radio" name="rate" value="1" />
                            <label>1 star</label>
                        <input type  = "hidden" name = "order_id" value = {{order.id}}>
                        <input type = "submit" class = "btn" value = "Rate restaurant"> 
                    {% else %}
                    <p>Restaurant rate : {{order.restaurant_rating}}</p> <!-- zamiast wypisac to fajnie by bylo wyswietic gwiazdki np 4,7 to 4 gwiazdki wyswietlic i obok (4,7) dokladna ocene 
                                                            chyba ze to bedzie ciezko, albo jak cos innego wymyslisz to tez git,(tutaj nie ma byc forma tylko poprostu wysietlone jak cos)-->
                    {% endif %}   

                    {% if order.deliverer_rating == 0 %}
                    <form action = "{% url 'rateDeliverer' %}" method ="POST">
                        {% csrf_token %}
                            <!-- <input type="radio" name="rate" value="5" />
                            <label>5 stars</label>
                            <input type="radio" name="rate" value="4" /> 
                            <label>4 stars</label>
                            <input type="radio" name="rate" value="3" />
                            <label>3 stars</label>
                            <input type="radio" name="rate" value="2" />
                            <label>2 stars</label>
                            <input type="radio" name="rate" value="1" />
                            <label>1 star</label> -->
                        <input type  = "hidden" name = "order_id" value = {{order.id}}>
                        <input type = "submit" class = "btn" value = "Rate deliverer"> 
                    {% else %}
                    <p>Deliverer rate: {{order.deliverer_rating}}</p> <!-- zamiast wypisac to fajnie by bylo wyswietic gwiazdki np 4,7 to 4 gwiazdki wyswietlic i obok (4,7) dokladna ocene 
                                                            chyba ze to bedzie ciezko, albo jak cos innego wymyslisz to tez git (tutaj nie ma byc forma tylko poprostu wysietlone jak cos)-->
                    {% endif %}

                {% endif %}

                

                      
            </div>
        </div>
    </div>
    

    
{% endfor %}   

<div style="height:200px;"></div>

{% endblock content %}
